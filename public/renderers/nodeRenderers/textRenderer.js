export const textRenderer = {
  render(node, ctx) {
    const { x, y } = node.bounds;  // use as-is, let ctx translate handle scrolling
    const { font, color } = node.style;

    ctx.save();
    ctx.font = font;
    ctx.fillStyle = color;
    ctx.textBaseline = "top"; // align y to top of text

    const lineHeight = parseInt(font) * 1.2; // line spacing factor
    let currentY = y;

    // Draw each line generated by TextLayoutStrategy
    for (const line of node._lines || [node.text]) {
      ctx.fillText(line, x, currentY);
      currentY += lineHeight;
    }

    ctx.restore();
  }
};
